@using BostadzPortalenClient.Pages.PropertyForSaleP
@inject PropertyForSaleService propService

<div class="d-flex align-items-center">
    <div>
        <h3>@realEstate.Address: @realEstate.Municipality.Name</h3>
        <p>
            @realEstate.TypeOfProperty, byggd @realEstate.YearBuilt.
        </p>
        <p>
            Beskrivning: @realEstate.Description
        </p>

        <table class="table">
            <thead>
                <tr>
                    <th> Pris </th>
                    <th> Hyra </th>
                    <th> Års kostnad </th>
                    <th> Bostads area </th>
                    <th> Utomhus area </th>
                    <th> Tillkommande area </th>
                    <th> Antal rum </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> <DecimalToStringSEK inputDecimal="@Convert.ToDecimal(realEstate.AskingPrice)"></DecimalToStringSEK> </td>
                    <td> <DecimalToStringSEK inputDecimal="@Convert.ToDecimal(realEstate.MonthlyFee)"></DecimalToStringSEK> </td>
                    <td> <DecimalToStringSEK inputDecimal="@Convert.ToDecimal(realEstate.YearlyOperatingCost)"></DecimalToStringSEK> </td>
                    <td> <IntToString_m2 inputInt="@realEstate.LivingArea"></IntToString_m2> </td>
                    <td> <IntToString_m2 inputInt="@realEstate.PlotArea"></IntToString_m2> </td>
                    <td> <IntToString_m2 inputInt="@realEstate.SupplementaryArea"></IntToString_m2> </td>
                    <td> @realEstate.NumberOfRooms </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-center align-items-center col-6">
        @foreach (var picture in realEstate.ImageUrls)
        {
            <img src="@picture" />
        }
    </div>
</div>


<div>
    <p> Mäklare: @realEstate.Realtor.FirstName @realEstate.Realtor.LastName <img src="/Pictures/@realEstate.Realtor.ProfileImageUrl" /></p>
    <p> Mäklarbyrå: @realEstate.Realtor.Agency.AgencyName <img src="~/Pictures/@realEstate.Realtor.Agency.AgencyLogoUrl" /></p>
</div>

@code {
    [Parameter]
    public int Id { get; set; }

    private PropertyForSale realEstate { get; set; }

    protected override async Task OnInitializedAsync()
    {
        realEstate = await propService.GetPropertyAsync(Id);
    }
    


}
