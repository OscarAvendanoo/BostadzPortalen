@page "/properties/index"
@using BostadzPortalenClient.DTO
@using BostadzPortalenClient.Services
@using Newtonsoft.Json
@* @inject IPropertyForSaleService propertyService *@
@inject ApiService apiService

<h3>Index</h3>
<PropertiesTable propertyList="allProperties"></PropertiesTable>


@code {
    private List<PropertyForSaleOverviewDTO> allProperties { get; set; }

    protected override async Task OnInitializedAsync() 
    {
        allProperties = await apiService.Get<List<PropertyForSaleOverviewDTO>>("PropertyForSale/GetAllPropertyOverviewDTOAsync");
    }
}
